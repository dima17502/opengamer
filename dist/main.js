(()=>{var e={476:function(e,t){!function(e){"use strict";var t=function(){return t=Object.assign||function(e){for(var t,n=1,o=arguments.length;n<o;n++)for(var l in t=arguments[n])Object.prototype.hasOwnProperty.call(t,l)&&(e[l]=t[l]);return e},t.apply(this,arguments)};function n(e,t,n){if(n||2===arguments.length)for(var o,l=0,s=t.length;l<s;l++)!o&&l in t||(o||(o=Array.prototype.slice.call(t,0,l)),o[l]=t[l]);return e.concat(o||Array.prototype.slice.call(t))}function o(e,n){var o,l,s=(o={current:0,next:function(){return++this.current}},l={},{add:function(e,t){var n=null!=t?t:o.next();return l[n]=e,n},resolve:function(e,t,n){var o=l[e];o&&(n(t)?o.resolve(t):o.reject(t),l[e]=null)}});return n((function(e){if(e.detail&&e.detail.data&&"object"==typeof e.detail.data&&"request_id"in e.detail.data){var t=e.detail.data,n=t.request_id,o=function(e,t){var n={};for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&t.indexOf(o)<0&&(n[o]=e[o]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var l=0;for(o=Object.getOwnPropertySymbols(e);l<o.length;l++)t.indexOf(o[l])<0&&Object.prototype.propertyIsEnumerable.call(e,o[l])&&(n[o[l]]=e[o[l]])}return n}(t,["request_id"]);n&&s.resolve(n,o,(function(e){return!("error_type"in e)}))}})),function(n,o){return void 0===o&&(o={}),new Promise((function(l,i){var a=s.add({resolve:l,reject:i},o.request_id);e(n,t(t({},o),{request_id:a}))}))}}var l,s,i,a,d,r,p,c="undefined"!=typeof window,y=Boolean(c&&window.AndroidBridge),u=Boolean(c&&window.webkit&&window.webkit.messageHandlers&&window.webkit.messageHandlers.VKWebAppClose),m=Boolean(c&&window.ReactNativeWebView&&"function"==typeof window.ReactNativeWebView.postMessage),g=c&&!y&&!u,b=g&&/(^\?|&)vk_platform=mobile_web(&|$)/.test(location.search),f=g?"message":"VKWebAppEvent",v=n(["VKWebAppInit","VKWebAppGetCommunityAuthToken","VKWebAppAddToCommunity","VKWebAppAddToHomeScreenInfo","VKWebAppClose","VKWebAppCopyText","VKWebAppCreateHash","VKWebAppGetUserInfo","VKWebAppSetLocation","VKWebAppSendToClient","VKWebAppGetClientVersion","VKWebAppGetPhoneNumber","VKWebAppGetEmail","VKWebAppGetGroupInfo","VKWebAppGetGeodata","VKWebAppGetCommunityToken","VKWebAppGetConfig","VKWebAppGetLaunchParams","VKWebAppSetTitle","VKWebAppGetAuthToken","VKWebAppCallAPIMethod","VKWebAppJoinGroup","VKWebAppLeaveGroup","VKWebAppAllowMessagesFromGroup","VKWebAppDenyNotifications","VKWebAppAllowNotifications","VKWebAppOpenPayForm","VKWebAppOpenApp","VKWebAppShare","VKWebAppShowWallPostBox","VKWebAppScroll","VKWebAppShowOrderBox","VKWebAppShowLeaderBoardBox","VKWebAppShowInviteBox","VKWebAppShowRequestBox","VKWebAppAddToFavorites","VKWebAppShowStoryBox","VKWebAppStorageGet","VKWebAppStorageGetKeys","VKWebAppStorageSet","VKWebAppFlashGetInfo","VKWebAppSubscribeStoryApp","VKWebAppOpenWallPost","VKWebAppCheckAllowedScopes","VKWebAppCheckBannerAd","VKWebAppHideBannerAd","VKWebAppShowBannerAd","VKWebAppCheckNativeAds","VKWebAppShowNativeAds","VKWebAppRetargetingPixel","VKWebAppConversionHit","VKWebAppShowSubscriptionBox","VKWebAppCheckSurvey","VKWebAppShowSurvey","VKWebAppScrollTop","VKWebAppScrollTopStart","VKWebAppScrollTopStop","VKWebAppShowSlidesSheet","VKWebAppTranslate","VKWebAppRecommend"],g&&!b?["VKWebAppResizeWindow","VKWebAppAddToMenu","VKWebAppShowInstallPushBox","VKWebAppGetFriends","VKWebAppShowCommunityWidgetPreviewBox","VKWebAppCallStart","VKWebAppCallJoin","VKWebAppCallGetStatus"]:["VKWebAppShowImages"],!0),h=c?window.AndroidBridge:void 0,x=u?window.webkit.messageHandlers:void 0,E=g?parent:void 0;e.EAdsFormats=void 0,(l=e.EAdsFormats||(e.EAdsFormats={})).REWARD="reward",l.INTERSTITIAL="interstitial",e.BannerAdLayoutType=void 0,(s=e.BannerAdLayoutType||(e.BannerAdLayoutType={})).RESIZE="resize",s.OVERLAY="overlay",e.BannerAdLocation=void 0,(i=e.BannerAdLocation||(e.BannerAdLocation={})).TOP="top",i.BOTTOM="bottom",e.EGrantedPermission=void 0,(a=e.EGrantedPermission||(e.EGrantedPermission={})).CAMERA="camera",a.LOCATION="location",a.PHOTO="photo",e.EGetLaunchParamsResponseLanguages=void 0,(d=e.EGetLaunchParamsResponseLanguages||(e.EGetLaunchParamsResponseLanguages={})).RU="ru",d.UK="uk",d.UA="ua",d.EN="en",d.BE="be",d.KZ="kz",d.PT="pt",d.ES="es",e.EGetLaunchParamsResponseGroupRole=void 0,(r=e.EGetLaunchParamsResponseGroupRole||(e.EGetLaunchParamsResponseGroupRole={})).ADMIN="admin",r.EDITOR="editor",r.MEMBER="member",r.MODER="moder",r.NONE="none",e.EGetLaunchParamsResponsePlatforms=void 0,(p=e.EGetLaunchParamsResponsePlatforms||(e.EGetLaunchParamsResponsePlatforms={})).DESKTOP_WEB="desktop_web",p.DESKTOP_WEB_MESSENGER="desktop_web_messenger",p.DESKTOP_APP_MESSENGER="desktop_app_messenger",p.MOBILE_WEB="mobile_web",p.MOBILE_ANDROID="mobile_android",p.MOBILE_ANDROID_MESSENGER="mobile_android_messenger",p.MOBILE_IPHONE="mobile_iphone",p.MOBILE_IPHONE_MESSENGER="mobile_iphone_messenger",p.MOBILE_IPAD="mobile_ipad";var B=function(e){var t=void 0,l=[];function s(e){l.push(e)}function i(){return u||y}function a(){return g&&window.parent!==window}function d(){return i()||a()}function r(e){if(u||y)return n([],l,!0).map((function(t){return t.call(null,e)}));var o=null==e?void 0:e.data;if(g&&o){if(m&&"string"==typeof o)try{o=JSON.parse(o)}catch(e){}var s=o.type,i=o.data,a=o.frameId;s&&("VKWebAppSettings"!==s?n([],l,!0).map((function(e){return e({detail:{type:s,data:i}})})):t=a)}}m&&/(android)/i.test(navigator.userAgent)?document.addEventListener(f,r):"undefined"!=typeof window&&"addEventListener"in window&&window.addEventListener(f,r);var p=o((function(e,n){h&&h[e]?h[e](JSON.stringify(n)):x&&x[e]&&"function"==typeof x[e].postMessage?x[e].postMessage(n):m?window.ReactNativeWebView.postMessage(JSON.stringify({handler:e,params:n})):E&&"function"==typeof E.postMessage&&E.postMessage({handler:e,params:n,type:"vk-connect",webFrameId:t,connectVersion:"2.11.0"},"*")}),s);return{send:p,sendPromise:p,subscribe:s,unsubscribe:function(e){var t=l.indexOf(e);t>-1&&l.splice(t,1)},supports:function(e){return y?!(!h||"function"!=typeof h[e]):u?!(!x||!x[e]||"function"!=typeof x[e].postMessage):!!g&&v.includes(e)},isWebView:i,isIframe:a,isEmbedded:d,isStandalone:function(){return!d()}}}();e.applyMiddleware=function e(){for(var n=[],o=0;o<arguments.length;o++)n[o]=arguments[o];return n.includes(void 0)||n.includes(null)?e.apply(void 0,n.filter((function(e){return"function"==typeof e}))):function(e){if(0===n.length)return e;var o,l={subscribe:e.subscribe,send:function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];return e.send.apply(e,t)}},s=n.filter((function(e){return"function"==typeof e})).map((function(e){return e(l)})).reduce((function(e,t){return function(n){return e(t(n))}}));return o=s(e.send),t(t({},e),{send:o})}},e.default=B,e.parseURLSearchParamsForGetLaunchParams=function(t){var n={};try{new URLSearchParams(t).forEach((function(t,o){switch(o){case"vk_ts":case"vk_is_recommended":case"vk_profile_id":case"vk_has_profile_button":case"vk_testing_group_id":case"vk_user_id":case"vk_app_id":case"vk_group_id":n[o]=Number(t);break;case"sign":case"vk_chat_id":case"vk_ref":case"vk_access_token_settings":n[o]=t;break;case"odr_enabled":n.odr_enabled="1"===t?1:void 0;break;case"vk_is_app_user":case"vk_are_notifications_enabled":case"vk_is_favorite":n[o]=function(e){switch(e){case"0":return 0;case"1":return 1;default:return}}(t);break;case"vk_language":n.vk_language=function(t){return Object.values(e.EGetLaunchParamsResponseLanguages).some((function(e){return e===t}))}(t)?t:void 0;break;case"vk_viewer_group_role":n.vk_viewer_group_role=function(t){return Object.values(e.EGetLaunchParamsResponseGroupRole).some((function(e){return e===t}))}(t)?t:void 0;break;case"vk_platform":n.vk_platform=function(t){return Object.values(e.EGetLaunchParamsResponsePlatforms).some((function(e){return e===t}))}(t)?t:void 0}}))}catch(e){console.warn(e)}return n},Object.defineProperty(e,"__esModule",{value:!0})}(t)}},t={};function n(o){var l=t[o];if(void 0!==l)return l.exports;var s=t[o]={exports:{}};return e[o].call(s.exports,s,s.exports,n),s.exports}n.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return n.d(t,{a:t}),t},n.d=(e,t)=>{for(var o in t)n.o(t,o)&&!n.o(e,o)&&Object.defineProperty(e,o,{enumerable:!0,get:t[o]})},n.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),(()=>{"use strict";var e=n(476),t=n.n(e);t().send("VKWebAppInit",{});var o=80,l=106,s=700,i=700,a=39,d=100,r=-40,p=-100,c=40,y=40,u=0,m=0,g=0,b=g+o,f=0,v=f+l,h=0,x=18,E=[],B=[],k={},I={},w=0,A=0,T={},_={},C=2,L=1,W=0,S=0,V=709,K=11,P=139,R=11,O=(new Date,595),G=50,M=100,F=1,N=0,z=0,j=0,D={easy:1,peasy:1,medium:2,pmedium:2,hard:3,phard:3,custom:4,pcustom:4},H={1:"easy",2:"medium",3:"hard",4:"custom"},q={1:323,2:173,3:149},U={1:332,2:267,3:233},J=1,Y=1,X=3,Z=1,$=1,Q=40,ee={1:0,2:0,3:0,4:0},te="url('./images/star_icon_gray.png')",ne="url('./images/star_icon.svg')",oe=0,le=0,se=0,ie=1,ae="./audios/main_theme.mp3";function de(e){const t=e.target;t.style.opacity="1",t.style.cursor="pointer"}function re(e){const t=e.target;t.style.opacity="0.8",t.style.cursor="default"}function pe(){const e=document.getElementById("music"),t=document.getElementById("audio");1==ie?(ie=0,t.pause(),e.style.background="url('./images/music_off.svg')"):(ie=1,e.style.background="url('./images/music_on.svg')",t.setAttribute("src",ae),t.loop="true",t.play())}function ce(){const e=document.getElementById("audio");e.setAttribute("src","./audios/main_theme.mp3"),ae="./audios/main_theme.mp3",e.currentTime=0,ie&&e.play()}function ye(){const e=document.getElementById("audio");e.setAttribute("src","./audios/play_theme.mp3"),e.currentTime=0,ae="./audios/play_theme.mp3",ie&&e.play()}function ue(){for(var e=1;e<=5;e++)document.getElementById("starBar"+e).style.display="none"}function me(){for(var e=document.getElementById("plevelPage").getBoundingClientRect(),t=1;t<=((s=3)<(i=Z)?s:i);t++){const s=document.getElementById("p"+H[t]),i=document.getElementById("starBar"+t);var n=ee[t],o=s.getBoundingClientRect();i.style.display="block";for(var l=1;l<=3;l++){const e=document.getElementById(t+"s"+l);l<=n?e.style.background=ne:e.style.backround=te,e.style.display="inline-block"}i.style.marginLeft=e.right-3*Q-30+"px",i.style.marginTop=o.top+10+"px"}var s,i}function ge(){oe=setInterval(ve,10)}function be(){le=setInterval(he,10)}function fe(){se=setInterval(xe,10)}function ve(){const e=document.getElementById("5s1");var t=parseFloat(e.style.opacity)+.02;t<=1?e.style.opacity=t:clearInterval(oe)}function he(){const e=document.getElementById("5s2");var t=parseFloat(e.style.opacity)+.02;t<=1?e.style.opacity=t:clearInterval(le)}function xe(){const e=document.getElementById("5s3");var t=parseFloat(e.style.opacity)+.02;t<=1?e.style.opacity=t:clearInterval(se)}function Ee(){1==m?(m=2,document.getElementById("pauseBtn").style.background="url('./images/play_icon.svg')"):2==m&&(m=1,document.getElementById("pauseBtn").style.background="url('./images/pause_icon.svg')")}function Be(){document.getElementById("sureBar").style.display="none",m=0,ce(),Se()}function ke(){document.getElementById("gameField").style.opacity="1.0",document.getElementById("sureBar").style.display="none",m=1}function Ie(){const e=document.getElementById("cancel");e.style.cursor="pointer",e.style.border="1px solid black"}function we(){const e=document.getElementById("cancel");e.style.cursor="default",e.style.border="none"}function Ae(){const e=document.getElementById("yesSure");e.style.cursor="pointer",e.style.border="1px solid black"}function Te(){const e=document.getElementById("yesSure");e.style.cursor="default",e.style.border="none"}function _e(){const e=document.getElementById("pauseBtn");e.style.cursor="pointer",e.style.border="1px solid black"}function Ce(){const e=document.getElementById("pauseBtn");e.style.cursor="default",e.style.border="none"}function Le(){const e=document.getElementById("homeBtn");e.style.opacity="1.0",e.style.cursor="pointer"}function We(){const e=document.getElementById("homeBtn");e.style.opacity="0.8",e.style.cursor="default"}function Se(){0==m?(rt(),ue(),document.getElementById("levelPage").style.display="none",document.getElementById("plevelPage").style.display="none",document.getElementById("mainPage").style.display="block"):(m=0,document.getElementById("gameField").style.opacity="0.5",document.getElementById("sureBar").style.display="block")}function Ve(e){const t=document.elementFromPoint(e.x,e.y);t.style.border="2px solid black",t.style.cursor="pointer"}function Ke(){const e=document.getElementById("okBtn");e.style.border="none",e.style.cursor="default"}function Pe(){const e=document.getElementById("levelPage"),t=document.getElementById("plevelPage");document.getElementById("warning").style.display="none","survival"==N?e.style.display="block":(t.style.display="block",me())}function Re(e){const t=document.elementFromPoint(e.x,e.y);if(t.style.border="2px solid black",t.style.cursor="pointer","peaceful"==N){var n="starBar"+D[t.id];const e=document.getElementById(n);var o=parseInt(e.style.marginTop)+2;e.style.marginTop=o+"px"}}function Oe(e){const t=document.getElementById("easy"),n=document.getElementById("medium"),o=document.getElementById("hard"),l=document.getElementById("custom"),s=document.getElementById("peasy"),i=document.getElementById("pmedium"),a=document.getElementById("phard"),d=document.getElementById("pcustom");if("survival"==N)t.style.border="none",n.style.border="none",o.style.border="none",l.style.border="none",t.style.cursor="default",n.style.cursor="default",o.style.cursor="default",l.style.cursor="default";else if(s.style.border="none",i.style.border="none",a.style.border="none",d.style.border="none",s.style.cursor="default",i.style.cursor="default",a.style.cursor="default",d.style.cursor="default","pcustom"!=e.target.id){var r="starBar"+D[e.target.id];const t=document.getElementById(r);var p=parseInt(t.style.marginTop)-2;t.style.marginTop=p+"px"}}function Ge(e){const t=document.elementFromPoint(e.x,e.y);t.style.border="2px solid black",t.style.cursor="pointer"}function Me(e){const t=document.getElementById("peaceful"),n=document.getElementById("survival");n.style.border="none",n.style.cursor="default",t.style.border="none",t.style.cursor="default"}function Fe(e){const t=document.elementFromPoint(e.x,e.y),n=document.getElementById("levelPage"),o=document.getElementById("plevelPage");if(ue(),o.style.display="none",n.style.display="none",$=F,"peaceful"==N&&($=Z),D[t.id]>$)document.getElementById("warning").style.display="block";else if(4==(J=D[t.id])){const e=document.getElementById("customMenu");document.getElementById("ptext").innerText="peaceful"==N?"Укажите скорость падения атомов":"Выберите скорость движения ракет",e.style.display="block"}else{const e=document.getElementById("info");document.getElementById("text").innerText="survival"==N?"Продержитесь 60 секунд уворачиваясь от ракет \n Управление стрелками / клавишами 'wasd' / зажатым курсором или пальцем. Пауза - пробел \nУдачи!":"Ловите атомы в течение минуты, до того как они упадут на землю. \nУ вас 3 жизни. \nУправление зажатым курсором, пальцем, клавишами 'wasd'. Пауза - пробел. Удачи!",e.style.display="block",ye(),P=q[J],"peaceful"==N&&(V=U[J])}}function Ne(e){const t=document.elementFromPoint(e.x,e.y);t.style.border="2px solid black",t.style.cursor="pointer"}function ze(){const e=document.getElementById("chooseBtn");e.style.cursor="default",e.style.border="none"}function je(){var e=document.getElementById("rangeOutput").value;0==e?(z=1,"peaceful"==N&&(j=1)):"survival"==N?(P=7+parseInt(1e4/e))%2==0&&(P+=1):(V=7+parseInt(3e3/e))%2==0&&(V+=1);const t=document.getElementById("customMenu"),n=document.getElementById("info");t.style.display="none",n.style.display="block",ye()}function De(e){document.getElementById("range"),document.getElementById("rangeOutput").textContent=e.target.value}function He(){N="survival",z=0,document.getElementById("mainPage").style.display="none",document.getElementById("levelPage").style.display="block"}function qe(){N="peaceful",z=1,document.getElementById("mainPage").style.display="none",document.getElementById("plevelPage").style.display="block",me()}function Ue(){const e=document.getElementById("startBtn");e.style.background="blue",e.style.cursor="pointer",e.style.color="white"}function Je(){const e=document.getElementById("startBtn");e.style.background="#a2f5b4",e.style.cursor="default",e.style.color="black"}function Ye(){new Date;const e=document.getElementById("info"),t=document.getElementById("gameField"),n=document.getElementById("clockBar"),o=document.getElementById("bonusBar"),l=document.getElementById("player"),s=document.getElementById("pauseBtn");"peaceful"==N&&(document.getElementById("lifesBar").style.display="block"),s.style.display="block",l.style.display="block",l.style.opacity="1.0",document.body.onkeydown=Xe,document.body.onmousemove=et,n.style.display="block",o.style.display="block",e.style.display="none",t.style.background="rgba(255, 255, 255, 0.8)",t.style.display="block",m=1,A=setInterval(at,1e3),0==z&&"survival"==N&&setTimeout(ot,3*P),0==j&&setTimeout(tt,V)}function Xe(e){if(1==m){const o=document.getElementById("player");if("37"==e.keyCode||"65"==e.keyCode){if(g-1>0){b-=20,g-=20;var t=parseInt(o.style.marginLeft)-20;o.style.marginLeft=t+"px"}}else if("38"==e.keyCode||"87"==e.keyCode){if(v+2<i){v+=20,f+=20;var n=parseInt(o.style.marginTop);o.style.marginTop=n-20+"px"}}else"39"==e.keyCode||"68"==e.keyCode?b+1<s&&(b+=20,g+=20,t=parseInt(o.style.marginLeft)+20,o.style.marginLeft=t+"px"):"40"==e.keyCode||"83"==e.keyCode?f-5>0&&(f-=20,v-=20,n=parseInt(o.style.marginTop),o.style.marginTop=n+20+"px"):"32"==e.keyCode&&Ee()}else"32"==e.keyCode&&2==m&&Ee()}function Ze(){1==m&&(h=0==h?1:0)}function $e(){h=1}function Qe(){h=0}function et(e){if(1==m){const r=document.getElementById("player");if(h){var t=e.clientX-80,n=t+o,a=e.clientY-60,d=a+l;t>=0&&n<=s?(r.style.marginLeft=e.clientX-80+"px",g=t,b=n):t<0?(r.style.marginLeft="0",g=0,b=o):n>s&&(r.style.marginLeft=s-o+"px",g=s-o,b=s),a>=0&&d<=i?(r.style.marginTop=e.clientY-60+"px",f=i-e.clientY-50,v=f+l):a<0?(r.style.marginTop="0",f=(v=i)-l):d>i&&(r.style.marginTop=O+"px",f=0,v=l)}}}function tt(){W=setInterval(nt,V)}function nt(){if(1==m){var e=E.shift();const i=document.getElementById(e);3,l=parseInt(w/10),L=3>l?3:l;var t=new Date,n=parseInt(1e4*Math.random()*(t%4159))%(s-c-10);i.style.marginLeft=n+"px",k[e]=1;var o=setInterval(bt,K);T[e]=o}var l}function ot(){S=setInterval(lt,P)}function lt(){if(1==m){var e=B.shift();const l=document.getElementById(e);var t=new Date,n=parseInt(1e4*Math.random()*(t%4159))%x*a;if(l.style.marginLeft=n+"px",I[e]=1,C=3,n%3==0){var o=setInterval(dt,R);_[e]=o}}}function st(e){const t=document.getElementById("mainBtn");t.style.border="2px solid black",t.style.cursor="pointer"}function it(){const e=document.getElementById("mainBtn");e.style.border="none",e.style.cursor="default"}function at(){if(1==m&&w<Y){const l=document.getElementById("clockBar");var e=1;(w+=1)<=60&&(e=60-w);var t=parseInt(e/60),n=e%60,o=t;t<10&&(o="0"+t),n<10&&(n="0"+n),l.innerText=o+":"+n}else if(1==m&&w==Y){if(m=0,w=0,$=F,"peaceful"==N&&($=Z),$==J&&4!=J){var l=H[$+=1];"peaceful"==N&&(l="p"+l);const e=document.getElementById(l);2==$?e.style.background="#39f":3==$?e.style.background="#e37":4==$&&(e.style.background="orange")}"peaceful"==N?Z=$:F=$,"peaceful"==N&&X>ee[J]&&(ee[J]=X),function(){const e=document.getElementById("gameField"),t=document.getElementById("winBar");e.style.opacity="0.5",t.style.display="block","peaceful"==N&&function(){const e=document.getElementById("winBar"),t=document.getElementById("starBar5");var n=e.getBoundingClientRect();t.style.marginLeft=n.right-3*Q-15+"px",t.style.marginTop=n.top+15+"px";for(var o=1;o<=3;o++){const e=document.getElementById("5s"+o);e.style.background=o<=X?ne:te,e.style.opacity="0",e.style.display="inline-block"}t.style.display="block",setTimeout(ge,500),setTimeout(be,1e3),setTimeout(fe,1500),clearInterval(oe),clearInterval(le),clearInterval(se)}()}()}}function dt(){if(1==m)for(var e in I)if(1==I[e]){const r=document.getElementById(e);var t=parseInt(r.style.marginTop),n=i-t,o=parseInt(r.style.marginLeft),l=n-d,s=o+a;o>=g&&o<=b&&l>=f&&l<=v||s>=g&&s<=b&&l>=f&&l<=v?(clearInterval(_[e]),m=0,yt()):t+C<=i?r.style.marginTop=t+C+"px":t<i?r.style.marginTop=i+"px":t==i&&(clearInterval(_[e]),I[e]=0,r.style.marginTop=p+"px",B.push(e))}}function rt(){ce(),mt();const e=document.getElementById("levelPage"),t=document.getElementById("plevelPage"),n=document.getElementById("gameField"),o=document.getElementById("clockBar"),l=document.getElementById("bonusBar"),s=document.getElementById("player"),i=document.getElementById("winBar"),a=document.getElementById("pauseBtn"),d=document.getElementById("info"),r=document.getElementById("sureBar"),p=document.getElementById("lifesBar");ue(),p.style.display="none",r.style.display="none",d.style.display="none",a.style.display="none",i.style.display="none",n.style.display="none",o.style.display="none",l.style.display="none",s.style.display="none","survival"==N?e.style.display="block":(t.style.display="block",me())}function pt(e){const t=document.getElementById("yesBtn");t.style.cursor="pointer",t.style.background="blue",t.style.color="white"}function ct(){const e=document.getElementById("yesBtn");e.style.cursor="default",e.style.background="#3c3",e.style.color="black"}function yt(){document.getElementById("gameField").style.opacity="0.5",document.getElementById("loseBar").style.display="block"}function ut(){mt(),setTimeout(Ye,5e3),gt(),t().send("VKWebAppShowNativeAds",{ad_format:"interstitial"}).then((e=>{e.result?console.log("Реклама показана"):alert("Ошибка при показе")})).catch((e=>{alert(2)}))}function mt(){document.getElementById("loseBar").style.display="none",w=0,document.getElementById("clockBar").innerText="01:00";const e=document.getElementById("player");document.getElementById("gameField").style.opacity="1.0","peaceful"==N&&(document.getElementById("lifesCounter").innerText="x3"),j=0,e.style.marginTop=O+"px",e.style.marginLeft="0px",X=3,b=(g=0)+o,v=(f=0)+l,u=0;const t=document.getElementById("bonusCounter");for(var n in t.innerText="0",h=0,C=1,clearInterval(W),clearInterval(S),clearInterval(A),T)clearInterval(T[n]);for(var s in _)clearInterval(_[s]);for(var s in I)I[s]=0,document.getElementById(s).style.marginTop=p+"px";for(var i in k)k[i]=0,document.getElementById(i).style.marginTop=r+"px";E=[],B=[];for(var a=0;a<G;a++)E.push(a+"b");for(a=0;a<M;a++)B.push(a+"m");T={},_={},I={},k={},R=19}function gt(){t().send("VKWebAppCheckNativeAds",{ad_format:"interstitial"}).then((e=>{e.result||(document.getElementById("adWarning").style.display="block")})).catch((e=>{alert("здесь должна быть какая-то ошибка")}))}function bt(){if(1==m)for(var e in k)if(1==k[e]){const a=document.getElementById(e);var t=parseInt(a.style.marginTop),n=i-t,o=parseInt(a.style.marginLeft),l=n-y,s=o+c;if(o>=g&&o<=b&&l>=f&&l<=v||s>=g&&s<=b&&l>=f&&l<=v){const t=document.getElementById("bonusCounter");u+=1,t.innerText=u,k[e]=0,a.style.marginTop=r+"px",E.push(e),clearInterval(T[e])}else if(t+L<=i)a.style.marginTop=t+L+"px";else if(t<i)a.style.marginTop=i+"px";else if(t==i){clearInterval(T[e]),k[e]=0,a.style.marginTop=r+"px",E.push(e);const t=document.getElementById("lifesCounter");X-=1,t.innerText="x"+X,X<=0&&(m=0,yt())}}}new Date,function(){document.body.style.overflow="hidden",document.body.margin="0",document.body.padding="0;",document.body.height="750px",document.body.style.fontFamily="Open Sans";const e=document.createElement("div");e.id="window",e.style.marginTop="-10px",e.style.marginLeft="-10px",e.style.position="absolute",e.style.display="block",e.style.width="900px",e.style.height="750px",e.style.border="1px solid blue",e.style.background="url('./images/back_900_750.jpg')",document.body.appendChild(e)}(),function(){const e=document.createElement("div");e.id="adWarning",e.style.position="absolute",e.style.background="url('./images/cat_warning.jpg')",e.style.border="3px solid black",e.style.width="890px",e.style.height="600px",e.style.marginTop="100px",e.style.display="none",e.style.zIndex="1000",document.getElementById("window").appendChild(e)}(),function(){const e=document.createElement("div");e.id="mainPage",e.style.marginLeft="200px",e.style.width="400px",e.style.height="300px",e.innerText="Выберите режим игры",e.style.fontSize="2em",e.style.background="rgba(255,255,255,0.8)",e.style.border="3px solid black",e.style.padding="10px",e.style.textAlign="center",e.style.marginTop="200px",e.style.position="absolute";const t=document.createElement("div");t.id="peaceful",t.style.position="relative",t.innerText="Мирный атом",t.style.width="80%",t.style.marginLeft="7%",t.onclick=qe,t.onmouseover=Ge,t.onmouseout=Me,t.style.background="#1b5",t.style.padding="20px 10px ",t.style.marginTop="30px",t.style.height="auto",t.style.display="block",t.style.borderRadius="5%";const n=document.createElement("div");n.id="survival",n.style.position="relative",n.innerText="Вспышка сверху",n.style.width="80%",n.style.marginLeft="7%",n.onclick=He,n.onmouseover=Ge,n.onmouseout=Me,n.style.background="#e37",n.style.padding="20px 10px",n.style.marginTop="30px",n.style.height="auto",n.style.display="block",n.style.borderRadius="5%",e.appendChild(t),e.appendChild(n),document.getElementById("window").appendChild(e)}(),function(){const e=document.createElement("div");e.id="levelPage",e.style.marginLeft="200px",e.style.width="400px",e.style.height="400px",e.innerText="Выберите уровень",e.style.fontSize="1.9em",e.style.background="rgba(255,255,255,0.8)",e.style.border="3px solid black",e.style.padding="10px",e.style.textAlign="center",e.style.marginTop="100px",e.style.position="absolute";const t=document.createElement("div");t.id="easy",t.style.position="relative",t.innerText="Легкий",t.style.width="70%",t.style.marginLeft="13%",t.onclick=Fe,t.onmouseover=Re,t.onmouseout=Oe,t.style.background="#3e7",t.style.padding="10px 10px ",t.style.marginTop="30px",t.style.height="auto",t.style.display="block",t.style.borderRadius="5%";const n=document.createElement("div");n.id="medium",n.style.position="relative",n.innerText="Средний",n.style.width="70%",n.style.marginLeft="13%",n.onclick=Fe,n.onmouseover=Re,n.onmouseout=Oe,n.style.background="#777",n.style.padding="10px 10px ",n.style.marginTop="20px",n.style.height="auto",n.style.display="block",n.style.borderRadius="5%";const o=document.createElement("div");o.id="hard",o.style.position="relative",o.innerText="Сложный",o.style.width="70%",o.style.marginLeft="13%",o.onclick=Fe,o.onmouseover=Re,o.onmouseout=Oe,o.style.background="#777",o.style.padding="10px 10px ",o.style.marginTop="20px",o.style.height="auto",o.style.display="block",o.style.borderRadius="5%";const l=document.createElement("div");l.id="custom",l.style.position="relative",l.innerText="Пользовательский",l.style.width="70%",l.style.marginLeft="13%",l.onclick=Fe,l.onmouseover=Re,l.onmouseout=Oe,l.style.background="#777",l.style.padding="10px 10px ",l.style.marginTop="20px",l.style.height="auto",l.style.display="block",l.style.borderRadius="5%",e.style.display="none",e.appendChild(t),e.appendChild(n),e.appendChild(o),e.appendChild(l),document.getElementById("window").appendChild(e)}(),function(){const e=document.createElement("div");e.id="plevelPage",e.style.marginLeft="200px",e.style.width="400px",e.style.height="400px",e.innerText="Выберите уровень",e.style.fontSize="1.9em",e.style.background="rgba(255,255,255,0.8)",e.style.border="3px solid black",e.style.padding="10px",e.style.textAlign="center",e.style.marginTop="100px",e.style.position="absolute";const t=document.createElement("div");t.id="peasy",t.style.position="relative",t.innerText="Легкий",t.style.width="100%",t.onclick=Fe,t.onmouseover=Re,t.onmouseout=Oe,t.style.background="#3e7",t.style.padding="10px 0px ",t.style.marginTop="30px",t.style.height="auto",t.style.display="block",t.style.borderRadius="5%";const n=document.createElement("div");n.id="pmedium",n.style.position="relative",n.innerText="Средний",n.style.width="100%",n.onclick=Fe,n.onmouseover=Re,n.onmouseout=Oe,n.style.background="#777",n.style.padding="10px 0px",n.style.marginTop="20px",n.style.height="auto",n.style.display="block",n.style.borderRadius="5%";const o=document.createElement("div");o.id="phard",o.style.position="relative",o.innerText="Сложный",o.style.width="100%",o.onclick=Fe,o.onmouseover=Re,o.onmouseout=Oe,o.style.background="#777",o.style.padding="10px 0px ",o.style.marginTop="20px",o.style.height="auto",o.style.display="block",o.style.borderRadius="5%";const l=document.createElement("div");l.id="pcustom",l.style.position="relative",l.innerText="Пользовательский",l.style.width="100%",l.onclick=Fe,l.onmouseover=Re,l.onmouseout=Oe,l.style.background="#777",l.style.padding="10px 0px ",l.style.marginTop="20px",l.style.height="auto",l.style.display="block",l.style.borderRadius="5%",e.style.display="none",e.appendChild(t),e.appendChild(n),e.appendChild(o),e.appendChild(l),document.getElementById("window").appendChild(e)}(),function(){const e=document.createElement("div");e.innerText="Сначала пройдите предыдущий уровень",e.style.fontSize="2em",e.style.background="#fff",e.style.border="3px solid black",e.style.padding="10px",e.style.textAlign="center",e.id="warning",e.style.marginLeft="200px",e.style.width="400px",e.style.height="200px",e.style.marginTop="200px",e.style.position="relative";const t=document.createElement("div");t.id="okBtn",t.style.position="absolute",t.innerText="Ок",t.style.width="70%",t.style.marginLeft="10%",t.onclick=Pe,t.onmouseover=Ve,t.onmouseout=Ke,t.style.background="#3e7",t.style.padding="10px 10px ",t.style.marginTop="30px",t.style.height="auto",t.style.display="block",t.style.borderRadius="5%",e.style.display="none",e.appendChild(t),document.getElementById("window").appendChild(e)}(),function(){const e=document.createElement("div");e.id="info",e.style.position="absolute",e.style.display="block",e.style.marginTop="100px",e.style.width="650px",e.style.height="auto",e.style.border="3px solid black",e.style.background="rgba(255,255,255,0.8)",e.style.marginLeft="100px",e.style.padding="20px",e.style.fontSize="1.5em";const t=document.createElement("div");t.id="text",t.style.position="absolute",t.style.width="100%",t.style.height="auto";const n=document.createElement("button");n.id="startBtn",n.onclick=Ye,n.innerText="Поехали!",n.style.marginLeft="200px",n.style.marginTop="200px",n.style.display="block",n.style.padding="20px",n.style.fontSize="1.5em",n.style.position="relative",n.style.border="3px solid black",n.style.background="#a2f5b4",n.style.borderRadius="20%",n.onmouseover=Ue,n.onmouseout=Je,e.appendChild(t);const o=document.getElementById("window");e.style.display="none",e.appendChild(n),o.appendChild(e)}(),function(){new Date;const e=document.getElementById("window"),t=document.createElement("div");t.id="gameField",t.style.position="absolute",t.style.display="none",t.style.width=s+"px",t.style.background="rgba(255, 255, 255, 0.8)",t.style.marginLeft="30px",t.style.marginTop="25px",t.style.height=i+"px",t.style.border="5px solid black",t.style.background="#fff",e.appendChild(t)}(),function(){const e=document.createElement("div");e.id="clockBar",e.style.position="absolute",e.style.width="auto",e.innerText="01:00",e.style.marginLeft="775px",e.style.marginTop="25px",e.style.fontSize="1.5em",e.style.border="2px solid black",e.style.padding="5px",e.style.background="white",e.style.display="none",document.getElementById("window").appendChild(e)}(),function(){const e=document.createElement("div");e.id="bonusBar",e.style.position="absolute",e.style.marginLeft="775px",e.style.padding="10px",e.style.background="url('./images/atom_icon.jpg')",e.style.width="30px",e.style.height="30px",e.style.border="2px solid black",e.style.borderRadius="50%",e.style.marginTop="100px";const t=document.createElement("div");t.id="bonusCounter",t.style.fontSize="2.7em",e.appendChild(t),t.style.position="relative",t.style.marginLeft="50px",t.innerText="0",t.style.verticalAlign="middle",t.style.lineHeight="30px",t.style.paddingBottom="5px",e.style.display="none",document.getElementById("window").appendChild(e)}(),function(){const e=document.createElement("div");e.id="player",e.style.position="absolute",e.style.background="url('images/open6.svg')",e.style.width=o+"px",e.style.height=l+"px",e.style.marginTop="595px",e.style.marginLeft="0",e.style.display="inline",e.onclick=Ze,e.onmousedown=$e,e.onmouseup=Qe,document.getElementById("gameField").appendChild(e)}(),function(){document.getElementById("window");const e=document.getElementById("gameField");for(var t=0;t<100;t++){const n=document.createElement("div");n.id=t+"m",n.style.position="absolute",n.style.width=a+"px",n.style.marginLeft=t*a+"px",n.style.height=d+"px",n.style.background="url('images/black_missile2.png')",n.style.marginTop="-100px",e.appendChild(n),B.push(t+"m")}e.style.overflow="hidden"}(),function(){const e=document.getElementById("gameField");for(var t=0;t<50;t++){const n=document.createElement("div");n.id=t+"b",n.style.position="absolute",n.style.width=c+"px",n.style.marginLeft=t*c+"px",n.style.height=y+"px",n.style.background="url('./images/atom_icon2.jpg')",n.style.borderRadius="50%",n.style.marginTop="-40px",e.appendChild(n),E.push(t+"b")}}(),function(){const e=document.createElement("div");e.id="loseBar",e.style.position="absolute",e.style.width="auto",e.style.height="auto",e.style.marginLeft="220px",e.style.fontSize="2em",e.style.marginTop="280px",e.style.padding="20px",e.style.border="3px solid black",e.style.fontFamily="Open Sans",e.innerText="Не вышло... Пробуем ещё?\n",e.style.background="white";const t=document.createElement("div");t.id="yesBtn",t.style.position="relative",t.innerText="Да",t.style.verticalAlign="middle",t.style.fontSize="1.3em",t.style.marginTop="20px",t.style.background="#3c3",t.style.width="30%",t.style.display="block",t.style.height="auto",t.style.padding="10px 20px",t.style.textAlign="center",t.style.verticalAlign="middle",t.style.borderRadius="5%",t.style.marginLeft="25%",t.onmouseover=pt,t.onmouseout=ct,t.onclick=ut,t.style.border="2px solid black",e.appendChild(t),e.style.display="none",document.getElementById("window").appendChild(e)}(),function(){const e=document.createElement("div");e.id="winBar",e.style.marginLeft="200px",e.style.width="430px",e.style.height="160px",e.innerText="Получилось!       ",e.style.fontSize="2em",e.style.background="#fff",e.style.border="3px solid black",e.style.padding="10px",e.style.textAlign="center",e.style.marginTop="250px",e.style.position="absolute";const t=document.createElement("div");t.id="mainBtn",t.style.position="relative",t.innerText="В меню",t.style.width=parseInt(280)+"px",t.style.marginLeft="10%",t.onclick=rt,t.onmouseover=st,t.onmouseout=it,t.style.background="#3e7",t.style.padding="10px 10px ",t.style.marginTop="30px",t.style.height="auto",t.style.display="block",t.style.borderRadius="5%",e.style.display="none",e.appendChild(t),document.getElementById("window").appendChild(e)}(),function(){const e=document.createElement("div");e.id="customMenu",e.style.fontSize="2em",e.style.background="#fff",e.style.border="3px solid black",e.style.padding="10px",e.style.textAlign="center",e.style.marginLeft="200px",e.style.width="400px",e.style.height="300px",e.style.marginTop="200px",e.style.position="relative";const t=document.createElement("div");t.id="ptext",t.style.position="absolute",t.style.fontSize="0.8em",t.style.width="100%",t.style.height="auto";const n=document.createElement("input");n.id="range",n.style.position="absolute",n.setAttribute("type","range"),n.setAttribute("min","0"),n.setAttribute("max","100"),n.setAttribute("step","0.1"),n.setAttribute("value","50"),n.style.width="70%",n.style.height="auto",n.style.marginLeft="10%",n.style.padding="10px 10px ",n.style.marginTop="130px",n.style.display="block",n.oninput=De;const o=document.createElement("output");o.id="rangeOutput",o.innerText="50",o.style.position="absolute",o.style.display="block",o.style.width="95%",o.style.marginTop="90px",o.textContent=n.value;const l=document.createElement("div");l.id="chooseBtn",l.innerText="Выбрать",l.onclick=je,l.style.fontSize="1.8em",l.style.position="absolute",l.style.width="70%",l.style.marginLeft="10%",l.onmouseover=Ne,l.onmouseout=ze,l.style.background="#3e7",l.style.padding="10px 10px ",l.style.marginTop="190px",l.style.height="auto",l.style.display="block",l.style.borderRadius="5%",e.style.display="none",e.appendChild(t),e.appendChild(n),e.appendChild(o),e.appendChild(l),document.getElementById("window").appendChild(e)}(),function(){const e=document.createElement("div");e.id="pauseBtn",e.style.position="absolute",e.style.display="inline",e.style.width="70px",e.style.height="70px",e.style.background="url('./images/pause_icon.svg')",e.style.borderRadius="50%",e.style.marginLeft="770px",e.style.marginTop="300px",e.onclick=Ee,e.onmouseover=_e,e.onmouseout=Ce,e.style.display="none",document.getElementById("window").appendChild(e)}(),function(){const e=document.createElement("div");e.id="homeBtn",e.style.position="absolute",e.style.display="inline",e.style.width="80px",e.style.height="80px",e.style.background="url('./images/home_icon.svg')",e.style.borderRadius="50%",e.style.opacity="0.8",e.style.marginLeft="770px",e.style.marginTop="600px",e.onclick=Se,e.onmouseover=Le,e.onmouseout=We,document.getElementById("window").appendChild(e)}(),function(){const e=document.createElement("div");e.id="sureBar",e.style.marginLeft="200px",e.style.width="400px",e.style.height="150px",e.style.fontSize="2em",e.style.background="#fff",e.style.border="3px solid black",e.style.padding="10px",e.style.textAlign="center",e.style.marginTop="250px",e.style.position="absolute";const t=document.createElement("div");t.id="sureText",t.innerText="Вы уверены?",t.style.position="relative",t.style.width="100%",t.style.display="block";const n=document.createElement("div");n.id="yesSure",n.style.position="relative",n.innerText="В меню",n.style.width="auto",n.style.marginLeft="0",n.onclick=Be,n.onmouseover=Ae,n.onmouseout=Te,n.style.background="#39f",n.style.padding="20px",n.style.marginTop="20px",n.style.marginBottom="10px",n.style.height="30px",n.style.lineHeight="30px",n.style.verticalAlign="middle",n.style.display="inline-block",n.style.borderRadius="5%";const o=document.createElement("div");o.id="cancel",o.style.position="relative",o.style.verticalAlign="middle",o.innerText="Отмена",o.style.width="auto",o.style.marginLeft="10%",o.onclick=ke,o.onmouseover=Ie,o.onmouseout=we,o.style.background="#3e7",o.style.padding="20px",o.style.marginTop="20px",o.style.marginBottom="10px",o.style.lineHeight="30px",o.style.height="30px",o.style.display="inline-block",o.style.borderRadius="5%",e.style.display="none",e.appendChild(t),e.appendChild(n),e.appendChild(o),document.getElementById("window").appendChild(e)}(),function(){const e=document.createElement("div");e.id="lifesBar",e.style.position="absolute",e.style.marginLeft="775px",e.style.padding="10px",e.style.background="url('./images/heart_icon.svg')",e.style.width="46px",e.style.height="44px",e.style.marginTop="200px";const t=document.createElement("div");t.id="lifesCounter",t.style.fontSize="2.7em",t.style.position="relative",t.style.marginLeft="55px",t.innerText="x3",t.style.verticalAlign="middle",t.style.lineHeight="30px",t.style.paddingBottom="5px",e.appendChild(t),e.style.display="none",document.getElementById("window").appendChild(e)}(),function(){for(var e=1;e<=5;e++){const n=document.createElement("div");n.id="starBar"+e,n.style.position="absolute",n.style.width="auto",n.style.height="auto";for(var t=1;t<=3;t++){const o=document.createElement("div");o.id=e+"s"+t,o.style.position="relative",o.style.width=Q+"px",o.style.height="40px",o.style.background=te,o.style.display="none",n.appendChild(o)}n.style.display="none",document.getElementById("window").appendChild(n)}}(),function(){const e=document.createElement("audio");e.id="audio",e.setAttribute("src","./audios/main_theme.mp3"),e.loop=!0;const t=document.createElement("div");t.id="music",t.style.position="absolute",t.style.width="60px",t.style.height="60px",t.style.background="url('./images/music_on.svg')",t.style.marginLeft="780px",t.style.marginTop="500px",t.style.opacity="0.8",t.onclick=pe,t.onmouseover=de,t.onmouseout=re;const n=document.getElementById("window");n.appendChild(e),n.appendChild(t),e.play()}(),gt()})()})();