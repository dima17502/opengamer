(()=>{var e={476:function(e,t){!function(e){"use strict";var t=function(){return t=Object.assign||function(e){for(var t,n=1,o=arguments.length;n<o;n++)for(var l in t=arguments[n])Object.prototype.hasOwnProperty.call(t,l)&&(e[l]=t[l]);return e},t.apply(this,arguments)};function n(e,t,n){if(n||2===arguments.length)for(var o,l=0,s=t.length;l<s;l++)!o&&l in t||(o||(o=Array.prototype.slice.call(t,0,l)),o[l]=t[l]);return e.concat(o||Array.prototype.slice.call(t))}function o(e,n){var o,l,s=(o={current:0,next:function(){return++this.current}},l={},{add:function(e,t){var n=null!=t?t:o.next();return l[n]=e,n},resolve:function(e,t,n){var o=l[e];o&&(n(t)?o.resolve(t):o.reject(t),l[e]=null)}});return n((function(e){if(e.detail&&e.detail.data&&"object"==typeof e.detail.data&&"request_id"in e.detail.data){var t=e.detail.data,n=t.request_id,o=function(e,t){var n={};for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&t.indexOf(o)<0&&(n[o]=e[o]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var l=0;for(o=Object.getOwnPropertySymbols(e);l<o.length;l++)t.indexOf(o[l])<0&&Object.prototype.propertyIsEnumerable.call(e,o[l])&&(n[o[l]]=e[o[l]])}return n}(t,["request_id"]);n&&s.resolve(n,o,(function(e){return!("error_type"in e)}))}})),function(n,o){return void 0===o&&(o={}),new Promise((function(l,i){var a=s.add({resolve:l,reject:i},o.request_id);e(n,t(t({},o),{request_id:a}))}))}}var l,s,i,a,d,r,p,c="undefined"!=typeof window,y=Boolean(c&&window.AndroidBridge),u=Boolean(c&&window.webkit&&window.webkit.messageHandlers&&window.webkit.messageHandlers.VKWebAppClose),m=Boolean(c&&window.ReactNativeWebView&&"function"==typeof window.ReactNativeWebView.postMessage),g=c&&!y&&!u,b=g&&/(^\?|&)vk_platform=mobile_web(&|$)/.test(location.search),f=g?"message":"VKWebAppEvent",h=n(["VKWebAppInit","VKWebAppGetCommunityAuthToken","VKWebAppAddToCommunity","VKWebAppAddToHomeScreenInfo","VKWebAppClose","VKWebAppCopyText","VKWebAppCreateHash","VKWebAppGetUserInfo","VKWebAppSetLocation","VKWebAppSendToClient","VKWebAppGetClientVersion","VKWebAppGetPhoneNumber","VKWebAppGetEmail","VKWebAppGetGroupInfo","VKWebAppGetGeodata","VKWebAppGetCommunityToken","VKWebAppGetConfig","VKWebAppGetLaunchParams","VKWebAppSetTitle","VKWebAppGetAuthToken","VKWebAppCallAPIMethod","VKWebAppJoinGroup","VKWebAppLeaveGroup","VKWebAppAllowMessagesFromGroup","VKWebAppDenyNotifications","VKWebAppAllowNotifications","VKWebAppOpenPayForm","VKWebAppOpenApp","VKWebAppShare","VKWebAppShowWallPostBox","VKWebAppScroll","VKWebAppShowOrderBox","VKWebAppShowLeaderBoardBox","VKWebAppShowInviteBox","VKWebAppShowRequestBox","VKWebAppAddToFavorites","VKWebAppShowStoryBox","VKWebAppStorageGet","VKWebAppStorageGetKeys","VKWebAppStorageSet","VKWebAppFlashGetInfo","VKWebAppSubscribeStoryApp","VKWebAppOpenWallPost","VKWebAppCheckAllowedScopes","VKWebAppCheckBannerAd","VKWebAppHideBannerAd","VKWebAppShowBannerAd","VKWebAppCheckNativeAds","VKWebAppShowNativeAds","VKWebAppRetargetingPixel","VKWebAppConversionHit","VKWebAppShowSubscriptionBox","VKWebAppCheckSurvey","VKWebAppShowSurvey","VKWebAppScrollTop","VKWebAppScrollTopStart","VKWebAppScrollTopStop","VKWebAppShowSlidesSheet","VKWebAppTranslate","VKWebAppRecommend"],g&&!b?["VKWebAppResizeWindow","VKWebAppAddToMenu","VKWebAppShowInstallPushBox","VKWebAppGetFriends","VKWebAppShowCommunityWidgetPreviewBox","VKWebAppCallStart","VKWebAppCallJoin","VKWebAppCallGetStatus"]:["VKWebAppShowImages"],!0),v=c?window.AndroidBridge:void 0,x=u?window.webkit.messageHandlers:void 0,E=g?parent:void 0;e.EAdsFormats=void 0,(l=e.EAdsFormats||(e.EAdsFormats={})).REWARD="reward",l.INTERSTITIAL="interstitial",e.BannerAdLayoutType=void 0,(s=e.BannerAdLayoutType||(e.BannerAdLayoutType={})).RESIZE="resize",s.OVERLAY="overlay",e.BannerAdLocation=void 0,(i=e.BannerAdLocation||(e.BannerAdLocation={})).TOP="top",i.BOTTOM="bottom",e.EGrantedPermission=void 0,(a=e.EGrantedPermission||(e.EGrantedPermission={})).CAMERA="camera",a.LOCATION="location",a.PHOTO="photo",e.EGetLaunchParamsResponseLanguages=void 0,(d=e.EGetLaunchParamsResponseLanguages||(e.EGetLaunchParamsResponseLanguages={})).RU="ru",d.UK="uk",d.UA="ua",d.EN="en",d.BE="be",d.KZ="kz",d.PT="pt",d.ES="es",e.EGetLaunchParamsResponseGroupRole=void 0,(r=e.EGetLaunchParamsResponseGroupRole||(e.EGetLaunchParamsResponseGroupRole={})).ADMIN="admin",r.EDITOR="editor",r.MEMBER="member",r.MODER="moder",r.NONE="none",e.EGetLaunchParamsResponsePlatforms=void 0,(p=e.EGetLaunchParamsResponsePlatforms||(e.EGetLaunchParamsResponsePlatforms={})).DESKTOP_WEB="desktop_web",p.DESKTOP_WEB_MESSENGER="desktop_web_messenger",p.DESKTOP_APP_MESSENGER="desktop_app_messenger",p.MOBILE_WEB="mobile_web",p.MOBILE_ANDROID="mobile_android",p.MOBILE_ANDROID_MESSENGER="mobile_android_messenger",p.MOBILE_IPHONE="mobile_iphone",p.MOBILE_IPHONE_MESSENGER="mobile_iphone_messenger",p.MOBILE_IPAD="mobile_ipad";var B=function(e){var t=void 0,l=[];function s(e){l.push(e)}function i(){return u||y}function a(){return g&&window.parent!==window}function d(){return i()||a()}function r(e){if(u||y)return n([],l,!0).map((function(t){return t.call(null,e)}));var o=null==e?void 0:e.data;if(g&&o){if(m&&"string"==typeof o)try{o=JSON.parse(o)}catch(e){}var s=o.type,i=o.data,a=o.frameId;s&&("VKWebAppSettings"!==s?n([],l,!0).map((function(e){return e({detail:{type:s,data:i}})})):t=a)}}m&&/(android)/i.test(navigator.userAgent)?document.addEventListener(f,r):"undefined"!=typeof window&&"addEventListener"in window&&window.addEventListener(f,r);var p=o((function(e,n){v&&v[e]?v[e](JSON.stringify(n)):x&&x[e]&&"function"==typeof x[e].postMessage?x[e].postMessage(n):m?window.ReactNativeWebView.postMessage(JSON.stringify({handler:e,params:n})):E&&"function"==typeof E.postMessage&&E.postMessage({handler:e,params:n,type:"vk-connect",webFrameId:t,connectVersion:"2.11.0"},"*")}),s);return{send:p,sendPromise:p,subscribe:s,unsubscribe:function(e){var t=l.indexOf(e);t>-1&&l.splice(t,1)},supports:function(e){return y?!(!v||"function"!=typeof v[e]):u?!(!x||!x[e]||"function"!=typeof x[e].postMessage):!!g&&h.includes(e)},isWebView:i,isIframe:a,isEmbedded:d,isStandalone:function(){return!d()}}}();e.applyMiddleware=function e(){for(var n=[],o=0;o<arguments.length;o++)n[o]=arguments[o];return n.includes(void 0)||n.includes(null)?e.apply(void 0,n.filter((function(e){return"function"==typeof e}))):function(e){if(0===n.length)return e;var o,l={subscribe:e.subscribe,send:function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];return e.send.apply(e,t)}},s=n.filter((function(e){return"function"==typeof e})).map((function(e){return e(l)})).reduce((function(e,t){return function(n){return e(t(n))}}));return o=s(e.send),t(t({},e),{send:o})}},e.default=B,e.parseURLSearchParamsForGetLaunchParams=function(t){var n={};try{new URLSearchParams(t).forEach((function(t,o){switch(o){case"vk_ts":case"vk_is_recommended":case"vk_profile_id":case"vk_has_profile_button":case"vk_testing_group_id":case"vk_user_id":case"vk_app_id":case"vk_group_id":n[o]=Number(t);break;case"sign":case"vk_chat_id":case"vk_ref":case"vk_access_token_settings":n[o]=t;break;case"odr_enabled":n.odr_enabled="1"===t?1:void 0;break;case"vk_is_app_user":case"vk_are_notifications_enabled":case"vk_is_favorite":n[o]=function(e){switch(e){case"0":return 0;case"1":return 1;default:return}}(t);break;case"vk_language":n.vk_language=function(t){return Object.values(e.EGetLaunchParamsResponseLanguages).some((function(e){return e===t}))}(t)?t:void 0;break;case"vk_viewer_group_role":n.vk_viewer_group_role=function(t){return Object.values(e.EGetLaunchParamsResponseGroupRole).some((function(e){return e===t}))}(t)?t:void 0;break;case"vk_platform":n.vk_platform=function(t){return Object.values(e.EGetLaunchParamsResponsePlatforms).some((function(e){return e===t}))}(t)?t:void 0}}))}catch(e){console.warn(e)}return n},Object.defineProperty(e,"__esModule",{value:!0})}(t)}},t={};function n(o){var l=t[o];if(void 0!==l)return l.exports;var s=t[o]={exports:{}};return e[o].call(s.exports,s,s.exports,n),s.exports}n.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return n.d(t,{a:t}),t},n.d=(e,t)=>{for(var o in t)n.o(t,o)&&!n.o(e,o)&&Object.defineProperty(e,o,{enumerable:!0,get:t[o]})},n.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),(()=>{"use strict";var e=n(476),t=n.n(e);t().send("VKWebAppInit",{});var o=900,l=750,s=80,i=106,a=700,d=700,r=39,p=100,c=-40,y=-100,u=40,m=40,g=0,b=0,f=0,h=f+s,v=0,x=v+i,E=0,B=18,k=[],I=[],w={},A={},T=0,_=0,W={},C={},L=2,S=1,V=0,K=0,P=709,R=11,O=139,G=11,M=(new Date,595),F=50,N=100,j=1,z=0,D=0,H=0,q={easy:1,peasy:1,medium:2,pmedium:2,hard:3,phard:3,custom:4,pcustom:4},U={1:"easy",2:"medium",3:"hard",4:"custom"},J={1:323,2:173,3:149},Y={1:332,2:267,3:233},X=1,Z=60,$=3,Q=1,ee=1,te=40,ne={1:0,2:0,3:0,4:0},oe="url('./images/star_icon_gray.png')",le="url('./images/star_icon.svg')",se=0,ie=0,ae=0,de=1,re="./audios/main_theme.mp3",pe=0,ce=(window.matchMedia("(max-width: 700px)"),window.innerWidth),ye=window.innerHeight;function ue(e){const t=e.target;t.style.opacity="1",t.style.cursor="pointer"}function me(e){const t=e.target;t.style.opacity="0.8",t.style.cursor="default"}function ge(){const e=document.getElementById("music"),t=document.getElementById("audio");1==de?(de=0,t.pause(),e.style.background="url('./images/music_off.svg')"):(de=1,e.style.background="url('./images/music_on.svg')",t.setAttribute("src",re),t.loop="true",t.play())}function be(){const e=document.getElementById("audio");e.setAttribute("src","./audios/main_theme.mp3"),re="./audios/main_theme.mp3",e.currentTime=0,de&&e.play()}function fe(){const e=document.getElementById("audio");e.setAttribute("src","./audios/play_theme.mp3"),e.currentTime=0,re="./audios/play_theme.mp3",de&&e.play()}function he(){for(var e=1;e<=5;e++)document.getElementById("starBar"+e).style.display="none"}function ve(){for(var e=document.getElementById("plevelPage").getBoundingClientRect(),t=1;t<=((s=3)<(i=Q)?s:i);t++){const s=document.getElementById("p"+U[t]),i=document.getElementById("starBar"+t);var n=ne[t],o=s.getBoundingClientRect();i.style.display="block";for(var l=1;l<=3;l++){const e=document.getElementById(t+"s"+l);l<=n?e.style.background=le:e.style.backround=oe,e.style.display="inline-block"}i.style.marginLeft=e.right-3*te-30+"px",i.style.marginTop=o.top+10+"px"}var s,i}function xe(){se=setInterval(ke,10)}function Ee(){ie=setInterval(Ie,10)}function Be(){ae=setInterval(we,10)}function ke(){const e=document.getElementById("5s1");var t=parseFloat(e.style.opacity)+.02;t<=1?e.style.opacity=t:clearInterval(se)}function Ie(){const e=document.getElementById("5s2");var t=parseFloat(e.style.opacity)+.02;t<=1?e.style.opacity=t:clearInterval(ie)}function we(){const e=document.getElementById("5s3");var t=parseFloat(e.style.opacity)+.02;t<=1?e.style.opacity=t:clearInterval(ae)}function Ae(){1==b?(b=2,document.getElementById("pauseBtn").style.background="url('./images/play_icon.svg')"):2==b&&(b=1,document.getElementById("pauseBtn").style.background="url('./images/pause_icon.svg')")}function Te(){document.getElementById("sureBar").style.display="none",b=0,be(),Oe()}function _e(){document.getElementById("gameField").style.opacity="1.0",document.getElementById("sureBar").style.display="none",b=1}function We(){const e=document.getElementById("cancel");e.style.cursor="pointer",e.style.border="1px solid black"}function Ce(){const e=document.getElementById("cancel");e.style.cursor="default",e.style.border="none"}function Le(){const e=document.getElementById("yesSure");e.style.cursor="pointer",e.style.border="1px solid black"}function Se(){const e=document.getElementById("yesSure");e.style.cursor="default",e.style.border="none"}function Ve(){const e=document.getElementById("pauseBtn");e.style.cursor="pointer",e.style.border="1px solid black"}function Ke(){const e=document.getElementById("pauseBtn");e.style.cursor="default",e.style.border="none"}function Pe(){const e=document.getElementById("homeBtn");e.style.opacity="1.0",e.style.cursor="pointer"}function Re(){const e=document.getElementById("homeBtn");e.style.opacity="0.8",e.style.cursor="default"}function Oe(){0==b?(pt(),he(),document.getElementById("levelPage").style.display="none",document.getElementById("plevelPage").style.display="none",document.getElementById("mainPage").style.display="block"):(b=0,document.getElementById("gameField").style.opacity="0.5",document.getElementById("sureBar").style.display="block")}function Ge(e){const t=document.elementFromPoint(e.x,e.y);t.style.border="2px solid black",t.style.cursor="pointer"}function Me(){const e=document.getElementById("okBtn");e.style.border="none",e.style.cursor="default"}function Fe(){const e=document.getElementById("levelPage"),t=document.getElementById("plevelPage");document.getElementById("warning").style.display="none","survival"==z?e.style.display="block":(t.style.display="block",ve())}function Ne(e){const t=document.elementFromPoint(e.x,e.y);if(t.style.border="2px solid black",t.style.cursor="pointer","peaceful"==z){var n="starBar"+q[t.id];const e=document.getElementById(n);var o=parseInt(e.style.marginTop)+2;e.style.marginTop=o+"px"}}function je(e){const t=document.getElementById("easy"),n=document.getElementById("medium"),o=document.getElementById("hard"),l=document.getElementById("custom"),s=document.getElementById("peasy"),i=document.getElementById("pmedium"),a=document.getElementById("phard"),d=document.getElementById("pcustom");if("survival"==z)t.style.border="none",n.style.border="none",o.style.border="none",l.style.border="none",t.style.cursor="default",n.style.cursor="default",o.style.cursor="default",l.style.cursor="default";else if(s.style.border="none",i.style.border="none",a.style.border="none",d.style.border="none",s.style.cursor="default",i.style.cursor="default",a.style.cursor="default",d.style.cursor="default","pcustom"!=e.target.id){var r="starBar"+q[e.target.id];const t=document.getElementById(r);var p=parseInt(t.style.marginTop)-2;t.style.marginTop=p+"px"}}function ze(e){const t=document.elementFromPoint(e.x,e.y),n=document.getElementById("levelPage"),o=document.getElementById("plevelPage");if(he(),o.style.display="none",n.style.display="none",ee=j,"peaceful"==z&&(ee=Q),q[t.id]>ee)document.getElementById("warning").style.display="block";else if(4==(X=q[t.id])){const e=document.getElementById("customMenu");document.getElementById("ptext").innerText="peaceful"==z?"Укажите скорость падения атомов":"Выберите скорость движения ракет",e.style.display="block"}else{const e=document.getElementById("info");document.getElementById("text").innerText="survival"==z?"Продержитесь 60 секунд уворачиваясь от ракет \n Управление стрелками / клавишами 'wasd' / зажатым курсором или пальцем. Пауза - пробел \nУдачи!":"Ловите атомы в течение минуты, до того как они упадут на землю. \nУ вас 3 жизни. \nУправление зажатым курсором, пальцем, клавишами 'wasd'. Пауза - пробел. Удачи!",e.style.display="block",fe(),O=J[X],"peaceful"==z&&(P=Y[X])}}function De(e){const t=document.elementFromPoint(e.x,e.y);t.style.border="2px solid black",t.style.cursor="pointer"}function He(){const e=document.getElementById("chooseBtn");e.style.cursor="default",e.style.border="none"}function qe(){var e=document.getElementById("rangeOutput").value;0==e?(D=1,"peaceful"==z&&(H=1)):"survival"==z?(O=7+parseInt(1e4/e))%2==0&&(O+=1):(P=7+parseInt(3e3/e))%2==0&&(P+=1);const t=document.getElementById("customMenu"),n=document.getElementById("info");t.style.display="none",n.style.display="block",fe()}function Ue(e){document.getElementById("range"),document.getElementById("rangeOutput").textContent=e.target.value}function Je(){const e=document.getElementById("startBtn");e.style.background="blue",e.style.cursor="pointer",e.style.color="white"}function Ye(){const e=document.getElementById("startBtn");e.style.background="#a2f5b4",e.style.cursor="default",e.style.color="black"}function Xe(){new Date;const e=document.getElementById("info"),t=document.getElementById("gameField"),n=document.getElementById("clockBar"),o=document.getElementById("bonusBar"),l=document.getElementById("player"),s=document.getElementById("pauseBtn");"peaceful"==z&&(document.getElementById("lifesBar").style.display="block"),s.style.display="block",l.style.display="block",l.style.opacity="1.0",document.body.onkeydown=Ze,document.body.onmousemove=tt,n.style.display="block",o.style.display="block",e.style.display="none",t.style.background="rgba(255, 255, 255, 0.8)",t.style.display="block",b=1,_=setInterval(dt,1e3),0==D&&"survival"==z&&setTimeout(lt,3*O),0==H&&setTimeout(nt,P)}function Ze(e){if(1==b){const o=document.getElementById("player");if("37"==e.keyCode||"65"==e.keyCode){if(f-1>0){h-=20,f-=20;var t=parseInt(o.style.marginLeft)-20;o.style.marginLeft=t+"px"}}else if("38"==e.keyCode||"87"==e.keyCode){if(x+2<d){x+=20,v+=20;var n=parseInt(o.style.marginTop);o.style.marginTop=n-20+"px"}}else"39"==e.keyCode||"68"==e.keyCode?h+1<a&&(h+=20,f+=20,t=parseInt(o.style.marginLeft)+20,o.style.marginLeft=t+"px"):"40"==e.keyCode||"83"==e.keyCode?v-5>0&&(v-=20,x-=20,n=parseInt(o.style.marginTop),o.style.marginTop=n+20+"px"):"32"==e.keyCode&&Ae()}else"32"==e.keyCode&&2==b&&Ae()}function $e(){1==b&&(E=0==E?1:0)}function Qe(){E=1}function et(){E=0}function tt(e){if(1==b){const c=document.getElementById("player");var t,n,o,l,r,p;E&&(0==pe?(t=e.clientX-80,o=e.clientY-60,r=e.clientX,p=e.clientY):(t=e.touches[0].clientX-80,o=e.touches[0].clientY-80,r=e.touches[0].clientX,p=e.touches[0].clientY),n=t+s,l=o+i,t>=0&&n<=a?(c.style.marginLeft=r-80+"px",f=t,h=n):t<0?(c.style.marginLeft="0",f=0,h=s):n>a&&(c.style.marginLeft=a-s+"px",f=a-s,h=a),o>=0&&l<=d?(c.style.marginTop=p-60+"px",x=(v=d-p-50)+i):o<0?(c.style.marginTop="0",v=(x=d)-i):l>d&&(c.style.marginTop=M+"px",v=0,x=i))}}function nt(){V=setInterval(ot,P)}function ot(){if(1==b){var e=k.shift();const s=document.getElementById(e);3,l=parseInt(T/10),S=3>l?3:l;var t=new Date,n=parseInt(1e4*Math.random()*(t%4159))%(a-u-10);s.style.marginLeft=n+"px",w[e]=1;var o=setInterval(ht,R);W[e]=o}var l}function lt(){K=setInterval(st,O)}function st(){if(1==b){var e=I.shift();const l=document.getElementById(e);var t=new Date,n=parseInt(1e4*Math.random()*(t%4159))%B*r;if(l.style.marginLeft=n+"px",A[e]=1,L=3,n%3==0){var o=setInterval(rt,G);C[e]=o}}}function it(e){const t=document.getElementById("mainBtn");t.style.border="2px solid black",t.style.cursor="pointer"}function at(){const e=document.getElementById("mainBtn");e.style.border="none",e.style.cursor="default"}function dt(){if(1==b&&T<Z){const l=document.getElementById("clockBar");var e=1;(T+=1)<=60&&(e=60-T);var t=parseInt(e/60),n=e%60,o=t;t<10&&(o="0"+t),n<10&&(n="0"+n),l.innerText=o+":"+n}else if(1==b&&T==Z){if(b=0,T=0,ee=j,"peaceful"==z&&(ee=Q),ee==X&&4!=X){var l=U[ee+=1];"peaceful"==z&&(l="p"+l);const e=document.getElementById(l);2==ee?e.style.background="#39f":3==ee?e.style.background="#e37":4==ee&&(e.style.background="orange")}"peaceful"==z?Q=ee:j=ee,"peaceful"==z&&$>ne[X]&&(ne[X]=$),function(){ft();const e=document.getElementById("gameField"),t=document.getElementById("winBar");e.style.opacity="0.5",t.style.display="block","peaceful"==z&&function(){const e=document.getElementById("winBar"),t=document.getElementById("starBar5");var n=e.getBoundingClientRect();t.style.marginLeft=n.right-3*te+"px",t.style.marginTop=n.top+15+"px";for(var o=1;o<=3;o++){const e=document.getElementById("5s"+o);e.style.background=o<=$?le:oe,e.style.opacity="0",e.style.display="inline-block"}t.style.display="block",setTimeout(xe,500),setTimeout(Ee,1e3),setTimeout(Be,1500),clearInterval(se),clearInterval(ie),clearInterval(ae)}()}()}}function rt(){if(1==b)for(var e in A)if(1==A[e]){const i=document.getElementById(e);var t=parseInt(i.style.marginTop),n=d-t,o=parseInt(i.style.marginLeft),l=n-p,s=o+r;o>=f&&o<=h&&l>=v&&l<=x||s>=f&&s<=h&&l>=v&&l<=x?(clearInterval(C[e]),b=0,ut()):t+L<=d?i.style.marginTop=t+L+"px":t<d?i.style.marginTop=d+"px":t==d&&(clearInterval(C[e]),A[e]=0,i.style.marginTop=y+"px",I.push(e))}}function pt(){be(),gt();const e=document.getElementById("levelPage"),t=document.getElementById("plevelPage"),n=document.getElementById("gameField"),o=document.getElementById("clockBar"),l=document.getElementById("bonusBar"),s=document.getElementById("player"),i=document.getElementById("winBar"),a=document.getElementById("pauseBtn"),d=document.getElementById("info"),r=document.getElementById("sureBar"),p=document.getElementById("lifesBar");he(),p.style.display="none",r.style.display="none",d.style.display="none",a.style.display="none",i.style.display="none",n.style.display="none",o.style.display="none",l.style.display="none",s.style.display="none","survival"==z?e.style.display="block":(t.style.display="block",ve())}function ct(e){const t=document.getElementById("yesBtn");t.style.cursor="pointer",t.style.background="blue",t.style.color="white"}function yt(){const e=document.getElementById("yesBtn");e.style.cursor="default",e.style.background="#3c3",e.style.color="black"}function ut(){ft(),document.getElementById("gameField").style.opacity="0.5",document.getElementById("loseBar").style.display="block"}function mt(){gt(),Xe()}function gt(){document.getElementById("loseBar").style.display="none",T=0,document.getElementById("clockBar").innerText="01:00";const e=document.getElementById("player");document.getElementById("gameField").style.opacity="1.0","peaceful"==z&&(document.getElementById("lifesCounter").innerText="x3"),H=0,e.style.marginTop=M+"px",e.style.marginLeft="0px",$=3,h=(f=0)+s,x=(v=0)+i,g=0;const t=document.getElementById("bonusCounter");for(var n in t.innerText="0",E=0,L=1,clearInterval(V),clearInterval(K),clearInterval(_),W)clearInterval(W[n]);for(var o in C)clearInterval(C[o]);for(var o in A)A[o]=0,document.getElementById(o).style.marginTop=y+"px";for(var l in w)w[l]=0,document.getElementById(l).style.marginTop=c+"px";k=[],I=[];for(var a=0;a<F;a++)k.push(a+"b");for(a=0;a<N;a++)I.push(a+"m");W={},C={},A={},w={},G=19}function bt(){t().send("VKWebAppCheckNativeAds",{ad_format:"interstitial"}).then((e=>{e.result||0==pe&&(document.getElementById("adWarning").style.display="block")})).catch((e=>{alert("здесь должна быть какая-то ошибка")}))}function ft(){bt(),t().send("VKWebAppShowNativeAds",{ad_format:"interstitial"}).then((e=>{e.result?console.log("Реклама показана"):alert("Ошибка при показе")})).catch((e=>{alert(2)}))}function ht(){if(1==b)for(var e in w)if(1==w[e]){const i=document.getElementById(e);var t=parseInt(i.style.marginTop),n=d-t,o=parseInt(i.style.marginLeft),l=n-m,s=o+u;if(o>=f&&o<=h&&l>=v&&l<=x||s>=f&&s<=h&&l>=v&&l<=x){const t=document.getElementById("bonusCounter");g+=1,t.innerText=g,w[e]=0,i.style.marginTop=c+"px",k.push(e),clearInterval(W[e])}else if(t+S<=d)i.style.marginTop=t+S+"px";else if(t<d)i.style.marginTop=d+"px";else if(t==d&&(clearInterval(W[e]),w[e]=0,i.style.marginTop=c+"px",k.push(e),"peaceful"==z)){const e=document.getElementById("lifesCounter");$-=1,e.innerText="x"+$,$<=0&&(b=0,ut())}}}new Date,o=360,l=736,ce<800&&(pe=1,l=ye,o=ce),function(){document.body.style.overflow="hidden",document.body.style.margin="0",document.body.style.padding="0;",document.body.style.height="100%",document.body.style.fontFamily="Open Sans";const e=document.createElement("div");e.id="window",e.style.position="absolute",e.style.display="block",e.style.width=o+"px",e.style.height=l+"px",e.style.border="1px solid blue",e.style.background="url('./images/back_900_750.jpg')",document.body.appendChild(e)}(),function(){const e=document.createElement("div");e.id="adWarning",e.style.position="absolute",e.style.background="url('./images/cat_warning.jpg')",e.style.border="3px solid black",e.style.width="890px",e.style.height="600px",e.style.marginTop="100px",e.style.display="none",e.style.zIndex="1000";const t=document.getElementById("window");t.appendChild(e),t.style.overflow="hidden"}(),function(){const e=document.createElement("div");e.id="levelPage",e.style.marginLeft="200px",e.style.width="400px",e.style.height="400px",e.innerText="Выберите уровень",e.style.fontSize="1.9em",e.style.background="rgba(255,255,255,0.8)",e.style.border="3px solid black",e.style.padding="10px",e.style.textAlign="center",e.style.marginTop="100px",e.style.position="absolute";const t=document.createElement("div");t.id="easy",t.style.position="relative",t.innerText="Легкий",t.style.width="70%",t.style.marginLeft="13%",t.onclick=ze,t.onmouseover=Ne,t.onmouseout=je,t.style.background="#3e7",t.style.padding="10px 10px ",t.style.marginTop="30px",t.style.height="auto",t.style.display="block",t.style.borderRadius="5%";const n=document.createElement("div");n.id="medium",n.style.position="relative",n.innerText="Средний",n.style.width="70%",n.style.marginLeft="13%",n.onclick=ze,n.onmouseover=Ne,n.onmouseout=je,n.style.background="#777",n.style.padding="10px 10px ",n.style.marginTop="20px",n.style.height="auto",n.style.display="block",n.style.borderRadius="5%";const o=document.createElement("div");o.id="hard",o.style.position="relative",o.innerText="Сложный",o.style.width="70%",o.style.marginLeft="13%",o.onclick=ze,o.onmouseover=Ne,o.onmouseout=je,o.style.background="#777",o.style.padding="10px 10px ",o.style.marginTop="20px",o.style.height="auto",o.style.display="block",o.style.borderRadius="5%";const l=document.createElement("div");l.id="custom",l.style.position="relative",l.innerText="Пользовательский",l.style.width="70%",l.style.marginLeft="13%",l.onclick=ze,l.onmouseover=Ne,l.onmouseout=je,l.style.background="#777",l.style.padding="10px 10px ",l.style.marginTop="20px",l.style.height="auto",l.style.display="block",l.style.borderRadius="5%",e.style.display="none",e.appendChild(t),e.appendChild(n),e.appendChild(o),e.appendChild(l),document.getElementById("window").appendChild(e)}(),function(){const e=document.createElement("div");e.id="plevelPage",e.style.marginLeft="200px",e.style.width="400px",e.style.height="400px",e.innerText="Выберите уровень",e.style.fontSize="1.9em",e.style.background="rgba(255,255,255,0.8)",e.style.border="3px solid black",e.style.padding="10px",e.style.textAlign="center",e.style.marginTop="100px",e.style.position="absolute";const t=document.createElement("div");t.id="peasy",t.style.position="relative",t.innerText="Легкий",t.style.width="100%",t.onclick=ze,t.onmouseover=Ne,t.onmouseout=je,t.style.background="#3e7",t.style.padding="10px 0px ",t.style.marginTop="30px",t.style.height="auto",t.style.display="block",t.style.borderRadius="5%";const n=document.createElement("div");n.id="pmedium",n.style.position="relative",n.innerText="Средний",n.style.width="100%",n.onclick=ze,n.onmouseover=Ne,n.onmouseout=je,n.style.background="#777",n.style.padding="10px 0px",n.style.marginTop="20px",n.style.height="auto",n.style.display="block",n.style.borderRadius="5%";const o=document.createElement("div");o.id="phard",o.style.position="relative",o.innerText="Сложный",o.style.width="100%",o.onclick=ze,o.onmouseover=Ne,o.onmouseout=je,o.style.background="#777",o.style.padding="10px 0px ",o.style.marginTop="20px",o.style.height="auto",o.style.display="block",o.style.borderRadius="5%";const l=document.createElement("div");l.id="pcustom",l.style.position="relative",l.innerText="Пользовательский",l.style.width="100%",l.onclick=ze,l.onmouseover=Ne,l.onmouseout=je,l.style.background="#777",l.style.padding="10px 0px ",l.style.marginTop="20px",l.style.height="auto",l.style.display="block",l.style.borderRadius="5%",e.style.display="none",e.appendChild(t),e.appendChild(n),e.appendChild(o),e.appendChild(l),document.getElementById("window").appendChild(e)}(),function(){const e=document.createElement("div");e.innerText="Сначала пройдите предыдущий уровень",e.style.fontSize="2em",e.style.background="#fff",e.style.border="3px solid black",e.style.padding="10px",e.style.textAlign="center",e.id="warning",e.style.marginLeft="200px",e.style.width="400px",e.style.height="200px",e.style.marginTop="200px",e.style.position="relative";const t=document.createElement("div");t.id="okBtn",t.style.position="absolute",t.innerText="Ок",t.style.width="70%",t.style.marginLeft="10%",t.onclick=Fe,t.onmouseover=Ge,t.onmouseout=Me,t.style.background="#3e7",t.style.padding="10px 10px ",t.style.marginTop="30px",t.style.height="auto",t.style.display="block",t.style.borderRadius="5%",e.style.display="none",e.appendChild(t),document.getElementById("window").appendChild(e)}(),function(){const e=document.createElement("div");e.id="info",e.style.position="absolute",e.style.display="block",e.style.marginTop="100px",e.style.width="650px",e.style.height="auto",e.style.border="3px solid black",e.style.background="rgba(255,255,255,0.8)",e.style.marginLeft="100px",e.style.padding="20px",e.style.fontSize="1.5em";const t=document.createElement("div");t.id="text",t.style.position="absolute",t.style.width="100%",t.style.height="auto";const n=document.createElement("button");n.id="startBtn",n.onclick=Xe,n.innerText="Поехали!",n.style.marginLeft="200px",n.style.marginTop="200px",n.style.display="block",n.style.padding="20px",n.style.fontSize="1.5em",n.style.position="relative",n.style.border="3px solid black",n.style.background="#a2f5b4",n.style.borderRadius="20%",n.onmouseover=Je,n.onmouseout=Ye,e.appendChild(t);const o=document.getElementById("window");e.style.display="none",e.appendChild(n),o.appendChild(e)}(),function(){new Date;const e=document.getElementById("window"),t=document.createElement("div");t.id="gameField",t.style.position="absolute",t.style.display="none",t.style.width=a+"px",t.style.background="rgba(255, 255, 255, 0.8)",t.style.marginLeft="30px",t.style.marginTop="25px",t.style.height=d+"px",t.style.border="5px solid black",t.style.background="#fff",e.appendChild(t)}(),function(){const e=document.createElement("div");e.id="clockBar",e.style.position="absolute",e.style.width="auto",e.innerText="01:00",e.style.marginLeft="775px",e.style.marginTop="25px",e.style.fontSize="1.5em",e.style.border="2px solid black",e.style.padding="5px",e.style.background="white",e.style.display="none",document.getElementById("window").appendChild(e)}(),function(){const e=document.createElement("div");e.id="bonusBar",e.style.position="absolute",e.style.marginLeft="775px",e.style.padding="10px",e.style.background="url('./images/atom_icon.jpg')",e.style.width="30px",e.style.height="30px",e.style.border="2px solid black",e.style.borderRadius="50%",e.style.marginTop="100px";const t=document.createElement("div");t.id="bonusCounter",t.style.fontSize="2.7em",e.appendChild(t),t.style.position="relative",t.style.marginLeft="50px",t.innerText="0",t.style.verticalAlign="middle",t.style.lineHeight="30px",t.style.paddingBottom="5px",e.style.display="none",document.getElementById("window").appendChild(e)}(),function(){const e=document.createElement("div");e.id="player",e.style.position="absolute",e.style.background="url('images/open6.svg')",e.style.width=s+"px",e.style.height=i+"px",e.style.marginTop="595px",e.style.marginLeft="0",e.style.display="inline",e.onclick=$e,e.onmousedown=Qe,e.onmouseup=et,e.ontouchstart=Qe,e.ontouchend=et,document.body.ontouchmove=tt,document.getElementById("gameField").appendChild(e)}(),function(){document.getElementById("window");const e=document.getElementById("gameField");for(var t=0;t<100;t++){const n=document.createElement("div");n.id=t+"m",n.style.position="absolute",n.style.width=r+"px",n.style.marginLeft=t*r+"px",n.style.height=p+"px",n.style.background="url('images/black_missile2.png')",n.style.marginTop="-100px",e.appendChild(n),I.push(t+"m")}e.style.overflow="hidden"}(),function(){const e=document.getElementById("gameField");for(var t=0;t<50;t++){const n=document.createElement("div");n.id=t+"b",n.style.position="absolute",n.style.width=u+"px",n.style.marginLeft=t*u+"px",n.style.height=m+"px",n.style.background="url('./images/atom_icon2.jpg')",n.style.borderRadius="50%",n.style.marginTop="-40px",e.appendChild(n),k.push(t+"b")}}(),function(){const e=document.createElement("div");e.id="loseBar",e.style.position="absolute",e.style.width="auto",e.style.height="auto",e.style.marginLeft="220px",e.style.fontSize="2em",e.style.marginTop="280px",e.style.padding="20px",e.style.border="3px solid black",e.style.fontFamily="Open Sans",e.innerText="Не вышло... Пробуем ещё?\n",e.style.background="white";const t=document.createElement("div");t.id="yesBtn",t.style.position="relative",t.innerText="Да",t.style.verticalAlign="middle",t.style.fontSize="1.3em",t.style.marginTop="20px",t.style.background="#3c3",t.style.width="30%",t.style.display="block",t.style.height="auto",t.style.padding="10px 20px",t.style.textAlign="center",t.style.verticalAlign="middle",t.style.borderRadius="5%",t.style.marginLeft="25%",t.onmouseover=ct,t.onmouseout=yt,t.onclick=mt,t.style.border="2px solid black",e.appendChild(t),e.style.display="none",document.getElementById("window").appendChild(e)}(),function(){const e=document.createElement("div");e.id="winBar",e.style.marginLeft="200px",e.style.width="430px",e.style.height="160px",e.innerText="Получилось!       ",e.style.fontSize="2em",e.style.background="#fff",e.style.border="3px solid black",e.style.padding="10px",e.style.textAlign="center",e.style.marginTop="250px",e.style.position="absolute";const t=document.createElement("div");t.id="mainBtn",t.style.position="relative",t.innerText="В меню",t.style.width=parseInt(280)+"px",t.style.marginLeft="10%",t.onclick=pt,t.onmouseover=it,t.onmouseout=at,t.style.background="#3e7",t.style.padding="10px 10px ",t.style.marginTop="30px",t.style.height="auto",t.style.display="block",t.style.borderRadius="5%",e.style.display="none",e.appendChild(t),document.getElementById("window").appendChild(e)}(),function(){const e=document.createElement("div");e.id="customMenu",e.style.fontSize="2em",e.style.background="#fff",e.style.border="3px solid black",e.style.padding="10px",e.style.textAlign="center",e.style.marginLeft="200px",e.style.width="400px",e.style.height="300px",e.style.marginTop="200px",e.style.position="relative";const t=document.createElement("div");t.id="ptext",t.style.position="absolute",t.style.fontSize="0.8em",t.style.width="100%",t.style.height="auto";const n=document.createElement("input");n.id="range",n.style.position="absolute",n.setAttribute("type","range"),n.setAttribute("min","0"),n.setAttribute("max","100"),n.setAttribute("step","0.1"),n.setAttribute("value","50"),n.style.width="70%",n.style.height="auto",n.style.marginLeft="10%",n.style.padding="10px 10px ",n.style.marginTop="130px",n.style.display="block",n.oninput=Ue;const o=document.createElement("output");o.id="rangeOutput",o.innerText="50",o.style.position="absolute",o.style.display="block",o.style.width="95%",o.style.marginTop="90px",o.textContent=n.value;const l=document.createElement("div");l.id="chooseBtn",l.innerText="Выбрать",l.onclick=qe,l.style.fontSize="1.8em",l.style.position="absolute",l.style.width="70%",l.style.marginLeft="10%",l.onmouseover=De,l.onmouseout=He,l.style.background="#3e7",l.style.padding="10px 10px ",l.style.marginTop="190px",l.style.height="auto",l.style.display="block",l.style.borderRadius="5%",e.style.display="none",e.appendChild(t),e.appendChild(n),e.appendChild(o),e.appendChild(l),document.getElementById("window").appendChild(e)}(),function(){const e=document.createElement("div");e.id="pauseBtn",e.style.position="absolute",e.style.display="inline",e.style.width="70px",e.style.height="70px",e.style.background="url('./images/pause_icon.svg')",e.style.borderRadius="50%",e.style.marginLeft="770px",e.style.marginTop="300px",e.onclick=Ae,e.onmouseover=Ve,e.onmouseout=Ke,e.style.display="none",document.getElementById("window").appendChild(e)}(),function(){const e=document.createElement("div");e.id="homeBtn",e.style.position="absolute",e.style.display="inline",e.style.width="80px",e.style.height="80px",e.style.background="url('./images/home_icon.svg')",e.style.borderRadius="50%",e.style.opacity="0.8",e.style.marginLeft="770px",e.style.marginTop="600px",e.onclick=Oe,e.onmouseover=Pe,e.onmouseout=Re,document.getElementById("window").appendChild(e)}(),function(){const e=document.createElement("div");e.id="sureBar",e.style.marginLeft="200px",e.style.width="400px",e.style.height="150px",e.style.fontSize="2em",e.style.background="#fff",e.style.border="3px solid black",e.style.padding="10px",e.style.textAlign="center",e.style.marginTop="250px",e.style.position="absolute";const t=document.createElement("div");t.id="sureText",t.innerText="Вы уверены?",t.style.position="relative",t.style.width="100%",t.style.display="block";const n=document.createElement("div");n.id="yesSure",n.style.position="relative",n.innerText="В меню",n.style.width="auto",n.style.marginLeft="0",n.onclick=Te,n.onmouseover=Le,n.onmouseout=Se,n.style.background="#39f",n.style.padding="20px",n.style.marginTop="20px",n.style.marginBottom="10px",n.style.height="30px",n.style.lineHeight="30px",n.style.verticalAlign="middle",n.style.display="inline-block",n.style.borderRadius="5%";const o=document.createElement("div");o.id="cancel",o.style.position="relative",o.style.verticalAlign="middle",o.innerText="Отмена",o.style.width="auto",o.style.marginLeft="10%",o.onclick=_e,o.onmouseover=We,o.onmouseout=Ce,o.style.background="#3e7",o.style.padding="20px",o.style.marginTop="20px",o.style.marginBottom="10px",o.style.lineHeight="30px",o.style.height="30px",o.style.display="inline-block",o.style.borderRadius="5%",e.style.display="none",e.appendChild(t),e.appendChild(n),e.appendChild(o),document.getElementById("window").appendChild(e)}(),function(){const e=document.createElement("div");e.id="lifesBar",e.style.position="absolute",e.style.marginLeft="775px",e.style.padding="10px",e.style.background="url('./images/heart_icon.svg')",e.style.width="46px",e.style.height="44px",e.style.marginTop="200px";const t=document.createElement("div");t.id="lifesCounter",t.style.fontSize="2.7em",t.style.position="relative",t.style.marginLeft="55px",t.innerText="x3",t.style.verticalAlign="middle",t.style.lineHeight="30px",t.style.paddingBottom="5px",e.appendChild(t),e.style.display="none",document.getElementById("window").appendChild(e)}(),function(){for(var e=1;e<=5;e++){const n=document.createElement("div");n.id="starBar"+e,n.style.position="absolute",n.style.width="auto",n.style.height="auto";for(var t=1;t<=3;t++){const o=document.createElement("div");o.id=e+"s"+t,o.style.position="relative",o.style.width=te+"px",o.style.height="40px",o.style.background=oe,o.style.display="none",n.appendChild(o)}n.style.display="none",document.getElementById("window").appendChild(n)}}(),function(){const e=document.createElement("audio");e.id="audio",e.setAttribute("src","./audios/main_theme.mp3"),e.loop=!0;const t=document.createElement("div");t.id="music",t.style.position="absolute",t.style.width="60px",t.style.height="60px",t.style.background="url('./images/music_on.svg')",t.style.marginLeft="780px",t.style.marginTop="500px",t.style.opacity="0.8",t.onclick=ge,t.onmouseover=ue,t.onmouseout=me;const n=document.getElementById("window");n.appendChild(e),n.appendChild(t),e.play()}(),bt()})()})();